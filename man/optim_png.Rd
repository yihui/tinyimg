% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/optim_png.R
\name{optim_png}
\alias{optim_png}
\title{Optimize PNG images}
\usage{
optim_png(
  input,
  output = input,
  level = 2L,
  alpha = FALSE,
  preserve = TRUE,
  recursive = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{input}{Path to the input PNG file or directory. If a directory is provided,
all PNG files in the directory (and subdirectories if \code{recursive = TRUE})
will be optimized.}

\item{output}{Path to the output PNG file or directory. Defaults to \code{input},
which means the input file(s) will be overwritten. When optimizing a directory,
\code{output} must be a directory path.}

\item{level}{Optimization level (0-6). Higher values result in better
compression but take longer.}

\item{alpha}{Optimize transparent pixels for better compression. This is
technically lossy but visually lossless.}

\item{preserve}{Preserve file permissions and timestamps.}

\item{recursive}{When \code{input} is a directory, recursively process subdirectories.}

\item{verbose}{Print file size reduction info for each file.}
}
\value{
For single files, returns the output path. For directories, returns a
character vector of all optimized files.
}
\description{
Optimize PNG images using the \strong{oxipng} Rust library. This function compresses
PNG files or directories of PNG files without losing quality (lossless compression).
}
\details{
The function uses the oxipng library which implements various PNG optimization
techniques including:
\itemize{
\item IDAT recompression with multiple algorithms
\item Bit depth reduction
\item Color type reduction
\item Palette reduction
}

\strong{Optimization levels:}
\itemize{
\item Level 0: Minimal optimization (fastest)
\item Level 1-2: Fast optimization with good results
\item Level 3-4: More thorough optimization
\item Level 5-6: Maximum optimization (slowest, best compression)
}
}
\examples{
# Create a test PNG
tmp = tempfile()
png(tmp, width = 400, height = 400)
plot(1:10)
dev.off()

# Optimize with different levels
optim_png(tmp, paste0(tmp, "-o1.png"), level = 1)
optim_png(tmp, paste0(tmp, "-o6.png"), level = 6)
}
